<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Справочник Производства</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="p-4 md:p-8">

    <!-- Информационная кнопка -->
    <button id="info-btn" onclick="showInfo()" class="fixed top-4 left-4 z-[120] bg-white/90 backdrop-blur p-2 rounded-xl shadow-lg border-2 border-amber-100">
        ℹ️
    </button>

    <!-- Переключатель языков -->
    <div class="fixed top-4 right-4 z-[120] bg-white/90 backdrop-blur p-1 rounded-xl shadow-lg border-2 border-amber-100">
        <select id="lang-select" onchange="changeLang(this.value)" class="text-sm p-2 rounded-lg outline-none">
            <!-- options populated dynamically -->
        </select>
    </div>

    <header class="text-center mb-6 pt-12 md:pt-0">
        <h1 id="ui-title" class="text-3xl md:text-4xl font-black text-amber-900 mb-2 uppercase tracking-tighter">
            Справочник Фермера</h1>
        <p id="ui-subtitle" class="text-amber-700 text-sm md:text-base">Все рецепты и производство в одном месте</p>
    </header>

    <div class="max-w-md mx-auto mb-8 relative px-2">
        <input type="text" id="search-input" placeholder="Поиск здания или товара..."
            class="w-full p-4 pl-12 rounded-2xl border-2 border-amber-200 bg-white shadow-sm transition-all text-sm md:text-base"
            oninput="handleSearch()">
        <div class="absolute left-6 top-1/2 -translate-y-1/2 text-amber-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
        </div>
    </div>

    <div id="buildings-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"></div>

    <!-- Модальное окно здания -->
    <div id="modal" class="modal" onclick="closeModal(event)">
        <div class="modal-content bg-white max-w-2xl rounded-3xl shadow-2xl p-4 md:p-8 relative"
            onclick="event.stopPropagation()">
            <button onclick="closeModal()"
                class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-3xl font-bold p-2">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- Модальное окно ингредиента -->
    <div id="sub-modal" class="modal" onclick="closeSubModal()">
        <div class="modal-content bg-amber-50 max-w-xs rounded-3xl shadow-2xl p-6 relative text-center border-4 border-white"
            onclick="event.stopPropagation()">
            <div id="sub-modal-body"></div>
        </div>
    </div>

    <!-- Простое информационное окно -->
    <div id="info-modal" class="modal" onclick="closeInfo()">
        <div class="modal-content bg-white max-w-sm rounded-3xl shadow-2xl p-6 relative"
            onclick="event.stopPropagation()">
            <button onclick="closeInfo()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-3xl font-bold p-2">&times;</button>
            <div id="info-modal-body" class="text-sm"></div>
        </div>
    </div>

    <script>
        window.onload = () => loadTranslations();
    </script>
    <script src="script.js"></script>
</body>

</html>
